import{_ as M,a as E,b as I,c as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-DW_O4r8r.js";import{d as Y,w as de,v as ie,u as t,c as f,n as b,i as ue,o as n,r as T,a as J,b as ne,e as a,h as me,f as o,g as d,j as g,k as m,t as c,l as K,F as W,m as ce,p as fe}from"./app-CAIM4AQU.js";import{_ as q,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-tKu1yc-o.js";import{_ as V}from"./Label.vue_vue_type_script_setup_true_lang-C34fOmYQ.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-C9d758wr.js";import{c as pe,_ as S}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ByynsUqB.js";import{u as ge}from"./useForwardExpose-Dj0ml3Es.js";import{_ as be,a as ye,b as N,c as O,d as _e,e as D,s as he,f as xe}from"./index-C5UECNNb.js";import{q as U,a as F}from"./index-C4J_hXM0.js";import"./VisuallyHidden-C_4c5lLl.js";import"./RovingFocusGroup-Cw9RJsS3.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-DCZwUn-c.js";const X=Y({__name:"Textarea",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(e,{emit:r}){const p=e,l=ge(p,"modelValue",r,{passive:!0,defaultValue:p.defaultValue});return(w,j)=>de((n(),f("textarea",{"onUpdate:modelValue":j[0]||(j[0]=L=>ue(l)?l.value=L:null),"data-slot":"textarea",class:b(t(pe)("placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex min-h-[80px] w-full min-w-0 rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",p.class))},null,2)),[[ie,t(l)]])}}),h=e=>({url:h.url(e),method:"get"});h.definition={methods:["get","head"],url:"/abouts"};h.url=e=>h.definition.url+U(e);h.get=e=>({url:h.url(e),method:"get"});h.head=e=>({url:h.url(e),method:"head"});const H=e=>({action:h.url(e),method:"get"});H.get=e=>({action:h.url(e),method:"get"});H.head=e=>({action:h.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});h.form=H;const x=e=>({url:x.url(e),method:"get"});x.definition={methods:["get","head"],url:"/abouts/create"};x.url=e=>x.definition.url+U(e);x.get=e=>({url:x.url(e),method:"get"});x.head=e=>({url:x.url(e),method:"head"});const P=e=>({action:x.url(e),method:"get"});P.get=e=>({action:x.url(e),method:"get"});P.head=e=>({action:x.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});x.form=P;const $=e=>({url:$.url(e),method:"post"});$.definition={methods:["post"],url:"/abouts"};$.url=e=>$.definition.url+U(e);$.post=e=>({url:$.url(e),method:"post"});const Z=e=>({action:$.url(e),method:"post"});Z.post=e=>({action:$.url(e),method:"post"});$.form=Z;const v=(e,r)=>({url:v.url(e,r),method:"get"});v.definition={methods:["get","head"],url:"/abouts/{about}"};v.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={about:e}),Array.isArray(e)&&(e={about:e[0]}),e=F(e);const p={about:e.about};return v.definition.url.replace("{about}",p.about.toString()).replace(/\/+$/,"")+U(r)};v.get=(e,r)=>({url:v.url(e,r),method:"get"});v.head=(e,r)=>({url:v.url(e,r),method:"head"});const R=(e,r)=>({action:v.url(e,r),method:"get"});R.get=(e,r)=>({action:v.url(e,r),method:"get"});R.head=(e,r)=>({action:v.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});v.form=R;const k=(e,r)=>({url:k.url(e,r),method:"get"});k.definition={methods:["get","head"],url:"/abouts/{about}/edit"};k.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={about:e}),Array.isArray(e)&&(e={about:e[0]}),e=F(e);const p={about:e.about};return k.definition.url.replace("{about}",p.about.toString()).replace(/\/+$/,"")+U(r)};k.get=(e,r)=>({url:k.url(e,r),method:"get"});k.head=(e,r)=>({url:k.url(e,r),method:"head"});const B=(e,r)=>({action:k.url(e,r),method:"get"});B.get=(e,r)=>({action:k.url(e,r),method:"get"});B.head=(e,r)=>({action:k.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});k.form=B;const y=(e,r)=>({url:y.url(e,r),method:"put"});y.definition={methods:["put","patch"],url:"/abouts/{about}"};y.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={about:e}),Array.isArray(e)&&(e={about:e[0]}),e=F(e);const p={about:e.about};return y.definition.url.replace("{about}",p.about.toString()).replace(/\/+$/,"")+U(r)};y.put=(e,r)=>({url:y.url(e,r),method:"put"});y.patch=(e,r)=>({url:y.url(e,r),method:"patch"});const z=(e,r)=>({action:y.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});z.put=(e,r)=>({action:y.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});z.patch=(e,r)=>({action:y.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...r?.query??r?.mergeQuery??{}}}),method:"post"});y.form=z;const Q=(e,r)=>({url:Q.url(e,r),method:"delete"});Q.definition={methods:["delete"],url:"/abouts/{about}"};Q.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={about:e}),Array.isArray(e)&&(e={about:e[0]}),e=F(e);const p={about:e.about};return Q.definition.url.replace("{about}",p.about.toString()).replace(/\/+$/,"")+U(r)};Q.delete=(e,r)=>({url:Q.url(e,r),method:"delete"});const ee=(e,r)=>({action:Q.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});ee.delete=(e,r)=>({action:Q.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});Q.form=ee;Object.assign(h,h),Object.assign(x,x),Object.assign($,$),Object.assign(v,v),Object.assign(k,k),Object.assign(y,y),Object.assign(Q,Q);const ve={class:"flex h-full flex-1 gap-4 p-4"},ke={class:"bg-card flex w-64 flex-col gap-4 rounded-xl border p-6 shadow-sm"},Ve={class:"flex flex-col items-center gap-3 border-b pb-4"},$e={class:"text-center font-semibold"},Qe={key:0,class:"border-b pb-4 space-y-2 text-sm"},Ce={class:"flex items-center justify-between"},Ue={class:"font-semibold"},je={key:0,class:"flex items-center justify-between"},qe={class:"font-semibold text-xs"},Ae={class:"flex items-center justify-between"},we={class:"flex flex-col gap-2"},Se={class:"flex flex-1 flex-col gap-4"},De={key:0,class:"flex flex-col gap-4"},Fe={class:"flex items-center justify-between"},Le={class:"grid gap-6 lg:grid-cols-2"},Me={class:"flex flex-col gap-6"},Ee={class:"space-y-4"},Ie={class:"space-y-2"},Te={key:0,class:"text-sm text-red-500"},Ne={class:"space-y-2"},Oe={key:0,class:"text-sm text-red-500"},He={class:"space-y-2"},Pe={key:0,class:"text-sm text-red-500"},Re={class:"space-y-2"},Be={key:0,class:"text-sm text-red-500"},ze={class:"space-y-2"},Ge={key:0,class:"text-sm text-red-500"},Je={class:"space-y-2"},Ke={key:0,class:"text-sm text-red-500"},We={class:"space-y-2"},Xe={key:0,class:"text-sm text-red-500"},Ye={class:"flex flex-col gap-6"},Ze={class:"space-y-4"},et={class:"flex flex-col items-center gap-4"},tt={key:0,class:"text-sm text-red-500"},st={class:"space-y-4"},rt={class:"flex flex-col items-center gap-4"},lt={key:0,class:"text-sm text-red-500"},at={class:"space-y-4"},ot={key:0,class:"text-sm text-muted-foreground"},dt={key:1,class:"text-sm text-muted-foreground"},it={key:2,class:"text-sm text-red-500"},ut={key:1,class:"flex flex-col gap-4"},nt={class:"mb-6"},mt=["href"],ct={class:"border-t pt-6"},ft={class:"grid gap-4 md:grid-cols-2"},pt={class:"space-y-2"},gt={key:0,class:"text-sm text-red-500"},bt={class:"space-y-2"},yt={key:0,class:"text-sm text-red-500"},_t={class:"mt-4 flex justify-end"},Dt=Y({__name:"Index",props:{about:{},medias:{},statistics:{}},setup(e){const r=e,p=T("about"),G=[{title:"Abouts",href:"/abouts"}],l=J({name:r.about?.name??"",email:r.about?.email??"",phone:r.about?.phone??"",address:r.about?.address??"",description:r.about?.description??"",summary:r.about?.summary??"",tagline:r.about?.tagline??"",home_image:null,banner_image:null,cv:null}),w=T(r.about?.home_image?`/storage/${r.about.home_image}`:""),j=T(r.about?.banner_image?`/storage/${r.about.banner_image}`:"");ne(()=>r.about,i=>{i&&(l.name=i.name??"",l.email=i.email??"",l.phone=i.phone??"",l.address=i.address??"",l.description=i.description??"",l.summary=i.summary??"",l.tagline=i.tagline??"",w.value=i.home_image?`/storage/${i.home_image}`:"",j.value=i.banner_image?`/storage/${i.banner_image}`:"")},{deep:!0});const L=i=>{const s=i.target;s.files&&s.files[0]&&(l.home_image=s.files[0],w.value=URL.createObjectURL(s.files[0]))},te=i=>{const s=i.target;s.files&&s.files[0]&&(l.banner_image=s.files[0],j.value=URL.createObjectURL(s.files[0]))},se=i=>{const s=i.target;s.files&&s.files[0]&&(l.cv=s.files[0])},re=()=>{r.about?.id?l.transform(i=>{const s={...i,_method:"PUT"};return i.home_image||delete s.home_image,i.banner_image||delete s.banner_image,i.cv||delete s.cv,s}).post(y(r.about.id).url,{forceFormData:!0,preserveScroll:!0}):l.post($().url,{forceFormData:!0,preserveScroll:!0})},_=J({link:"",icon:""}),le=()=>{_.post(he().url,{preserveScroll:!0,onSuccess:()=>{_.reset()}})},ae=i=>{confirm("Ви впевнені, що хочете видалити це посилання?")&&fe.delete(xe(i).url,{preserveScroll:!0})};return(i,s)=>(n(),f(W,null,[a(t(me),{title:"Abouts"}),a(oe,{breadcrumbs:G},{default:o(()=>[d("div",ve,[d("div",ke,[d("div",Ve,[a(t(M),{class:"h-20 w-20"},{default:o(()=>[a(t(E),{src:w.value||"/template/assets/img/avatar.jpg"},null,8,["src"]),a(t(I),null,{default:o(()=>[m(c(t(l).name?.charAt(0)||"U"),1)]),_:1})]),_:1}),d("p",$e,c(t(l).name||"User Name"),1)]),e.statistics?(n(),f("div",Qe,[d("div",Ce,[s[11]||(s[11]=d("span",{class:"text-muted-foreground"},"Соціальні мережі:",-1)),d("span",Ue,c(e.statistics.totalMediaLinks),1)]),e.statistics.lastUpdated?(n(),f("div",je,[s[12]||(s[12]=d("span",{class:"text-muted-foreground"},"Оновлено:",-1)),d("span",qe,c(e.statistics.lastUpdated),1)])):g("",!0),d("div",Ae,[s[13]||(s[13]=d("span",{class:"text-muted-foreground"},"CV:",-1)),d("span",{class:b([e.statistics.hasCV?"text-green-600":"text-red-600","font-semibold"])},c(e.statistics.hasCV?"✓ Завантажено":"✗ Немає"),3)])])):g("",!0),d("nav",we,[a(t(S),{variant:p.value==="about"?"default":"ghost",class:"justify-start",onClick:s[0]||(s[0]=u=>p.value="about")},{default:o(()=>[...s[14]||(s[14]=[d("i",{class:"fas fa-user mr-2"},null,-1),d("span",null,"About Me",-1)])]),_:1},8,["variant"]),a(t(S),{variant:p.value==="media"?"default":"ghost",class:"justify-start",onClick:s[1]||(s[1]=u=>p.value="media")},{default:o(()=>[...s[15]||(s[15]=[d("i",{class:"fas fa-share-alt mr-2"},null,-1),d("span",null,"My Social Media",-1)])]),_:1},8,["variant"])])]),d("div",Se,[p.value==="about"?(n(),f("div",De,[d("div",Fe,[s[16]||(s[16]=d("h1",{class:"text-2xl font-bold"},"About Me",-1)),a(t(S),{onClick:re,disabled:t(l).processing},{default:o(()=>[m(c(t(l).processing?"Saving...":"Update Changes"),1)]),_:1},8,["disabled"])]),d("div",Le,[d("div",Me,[a(t(q),null,{default:o(()=>[a(t(A),{class:"pt-6"},{default:o(()=>[d("div",Ee,[d("div",Ie,[a(t(V),{for:"fullName"},{default:o(()=>[...s[17]||(s[17]=[m("Full Name",-1)])]),_:1}),a(t(C),{id:"fullName",modelValue:t(l).name,"onUpdate:modelValue":s[2]||(s[2]=u=>t(l).name=u),type:"text",class:b({"border-red-500":t(l).errors.name})},null,8,["modelValue","class"]),t(l).errors.name?(n(),f("p",Te,c(t(l).errors.name),1)):g("",!0)]),d("div",Ne,[a(t(V),{for:"email"},{default:o(()=>[...s[18]||(s[18]=[m("Email",-1)])]),_:1}),a(t(C),{id:"email",modelValue:t(l).email,"onUpdate:modelValue":s[3]||(s[3]=u=>t(l).email=u),type:"email",class:b({"border-red-500":t(l).errors.email})},null,8,["modelValue","class"]),t(l).errors.email?(n(),f("p",Oe,c(t(l).errors.email),1)):g("",!0)]),d("div",He,[a(t(V),{for:"phone"},{default:o(()=>[...s[19]||(s[19]=[m("Phone",-1)])]),_:1}),a(t(C),{id:"phone",modelValue:t(l).phone,"onUpdate:modelValue":s[4]||(s[4]=u=>t(l).phone=u),type:"text",class:b({"border-red-500":t(l).errors.phone})},null,8,["modelValue","class"]),t(l).errors.phone?(n(),f("p",Pe,c(t(l).errors.phone),1)):g("",!0)]),d("div",Re,[a(t(V),{for:"address"},{default:o(()=>[...s[20]||(s[20]=[m("Address",-1)])]),_:1}),a(t(C),{id:"address",modelValue:t(l).address,"onUpdate:modelValue":s[5]||(s[5]=u=>t(l).address=u),type:"text",class:b({"border-red-500":t(l).errors.address})},null,8,["modelValue","class"]),t(l).errors.address?(n(),f("p",Be,c(t(l).errors.address),1)):g("",!0)]),d("div",ze,[a(t(V),{for:"description"},{default:o(()=>[...s[21]||(s[21]=[m("Description",-1)])]),_:1}),a(t(X),{id:"description",modelValue:t(l).description,"onUpdate:modelValue":s[6]||(s[6]=u=>t(l).description=u),rows:"3",class:b({"border-red-500":t(l).errors.description})},null,8,["modelValue","class"]),t(l).errors.description?(n(),f("p",Ge,c(t(l).errors.description),1)):g("",!0)]),d("div",Je,[a(t(V),{for:"summary"},{default:o(()=>[...s[22]||(s[22]=[m("Summary",-1)])]),_:1}),a(t(X),{id:"summary",modelValue:t(l).summary,"onUpdate:modelValue":s[7]||(s[7]=u=>t(l).summary=u),rows:"2",class:b({"border-red-500":t(l).errors.summary})},null,8,["modelValue","class"]),t(l).errors.summary?(n(),f("p",Ke,c(t(l).errors.summary),1)):g("",!0)])])]),_:1})]),_:1}),a(t(q),null,{default:o(()=>[a(t(A),{class:"pt-6"},{default:o(()=>[d("div",We,[a(t(V),{for:"tagline"},{default:o(()=>[...s[23]||(s[23]=[m("Tagline",-1)])]),_:1}),a(t(C),{id:"tagline",modelValue:t(l).tagline,"onUpdate:modelValue":s[8]||(s[8]=u=>t(l).tagline=u),type:"text",class:b({"border-red-500":t(l).errors.tagline})},null,8,["modelValue","class"]),t(l).errors.tagline?(n(),f("p",Xe,c(t(l).errors.tagline),1)):g("",!0)])]),_:1})]),_:1})]),d("div",Ye,[a(t(q),null,{default:o(()=>[a(t(A),{class:"pt-6"},{default:o(()=>[d("div",Ze,[a(t(V),null,{default:o(()=>[...s[24]||(s[24]=[m("Home Image",-1)])]),_:1}),d("div",et,[a(t(M),{class:"h-32 w-32"},{default:o(()=>[a(t(E),{src:w.value||"/template/assets/img/avatar.jpg"},null,8,["src"]),a(t(I),null,{default:o(()=>[...s[25]||(s[25]=[m("HI",-1)])]),_:1})]),_:1}),a(t(C),{type:"file",accept:"image/*",onChange:L,class:b({"border-red-500":t(l).errors.home_image})},null,8,["class"]),t(l).errors.home_image?(n(),f("p",tt,c(t(l).errors.home_image),1)):g("",!0)])])]),_:1})]),_:1}),a(t(q),null,{default:o(()=>[a(t(A),{class:"pt-6"},{default:o(()=>[d("div",st,[a(t(V),null,{default:o(()=>[...s[26]||(s[26]=[m("About Image",-1)])]),_:1}),d("div",rt,[a(t(M),{class:"h-32 w-32"},{default:o(()=>[a(t(E),{src:j.value||"/template/assets/img/avatar.jpg"},null,8,["src"]),a(t(I),null,{default:o(()=>[...s[27]||(s[27]=[m("AI",-1)])]),_:1})]),_:1}),a(t(C),{type:"file",accept:"image/*",onChange:te,class:b({"border-red-500":t(l).errors.banner_image})},null,8,["class"]),t(l).errors.banner_image?(n(),f("p",lt,c(t(l).errors.banner_image),1)):g("",!0)])])]),_:1})]),_:1}),a(t(q),null,{default:o(()=>[a(t(A),{class:"pt-6"},{default:o(()=>[d("div",at,[a(t(V),null,{default:o(()=>[...s[28]||(s[28]=[m("CV",-1)])]),_:1}),a(t(C),{type:"file",accept:".pdf",onChange:se,class:b({"border-red-500":t(l).errors.cv})},null,8,["class"]),t(l).cv?(n(),f("p",ot," Selected: "+c(t(l).cv.name),1)):e.about?.cv?(n(),f("p",dt," Current: "+c(e.about.cv.split("/").pop()),1)):g("",!0),t(l).errors.cv?(n(),f("p",it,c(t(l).errors.cv),1)):g("",!0)])]),_:1})]),_:1})])])])):g("",!0),p.value==="media"?(n(),f("div",ut,[s[39]||(s[39]=d("div",{class:"flex items-center justify-between"},[d("h1",{class:"text-2xl font-bold"},"My Social Media")],-1)),a(t(q),null,{default:o(()=>[a(t(A),{class:"pt-6"},{default:o(()=>[d("div",nt,[s[34]||(s[34]=d("h2",{class:"mb-4 text-xl font-semibold"},"Media Links",-1)),a(be,null,{default:o(()=>[a(ye,null,{default:o(()=>[a(N,null,{default:o(()=>[a(O,null,{default:o(()=>[...s[29]||(s[29]=[m("Icon",-1)])]),_:1}),a(O,null,{default:o(()=>[...s[30]||(s[30]=[m("Link",-1)])]),_:1}),a(O,{class:"text-right"},{default:o(()=>[...s[31]||(s[31]=[m("Actions",-1)])]),_:1})]),_:1})]),_:1}),a(_e,null,{default:o(()=>[!e.medias||e.medias.length===0?(n(),K(N,{key:0},{default:o(()=>[a(D,{colspan:"3",class:"text-muted-foreground text-center"},{default:o(()=>[...s[32]||(s[32]=[m(" No media links added yet. ",-1)])]),_:1})]),_:1})):g("",!0),(n(!0),f(W,null,ce(e.medias,u=>(n(),K(N,{key:u.id},{default:o(()=>[a(D,null,{default:o(()=>[d("i",{class:b([u.icon,"text-xl"])},null,2)]),_:2},1024),a(D,null,{default:o(()=>[d("a",{href:u.link,target:"_blank",class:"text-blue-500 hover:underline"},c(u.link),9,mt)]),_:2},1024),a(D,{class:"text-right"},{default:o(()=>[a(t(S),{variant:"destructive",size:"sm",onClick:ht=>ae(u.id)},{default:o(()=>[...s[33]||(s[33]=[m(" Delete ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),d("div",ct,[s[38]||(s[38]=d("h2",{class:"mb-4 text-xl font-semibold"}," Add New Media Link ",-1)),d("div",ft,[d("div",pt,[a(t(V),{for:"mediaLink"},{default:o(()=>[...s[35]||(s[35]=[m("Link",-1)])]),_:1}),a(t(C),{id:"mediaLink",modelValue:t(_).link,"onUpdate:modelValue":s[9]||(s[9]=u=>t(_).link=u),type:"url",placeholder:"https://example.com",class:b({"border-red-500":t(_).errors.link})},null,8,["modelValue","class"]),t(_).errors.link?(n(),f("p",gt,c(t(_).errors.link),1)):g("",!0)]),d("div",bt,[a(t(V),{for:"mediaIcon"},{default:o(()=>[...s[36]||(s[36]=[m("Icon Class",-1)])]),_:1}),a(t(C),{id:"mediaIcon",modelValue:t(_).icon,"onUpdate:modelValue":s[10]||(s[10]=u=>t(_).icon=u),type:"text",placeholder:"fab fa-instagram",class:b({"border-red-500":t(_).errors.icon})},null,8,["modelValue","class"]),t(_).errors.icon?(n(),f("p",yt,c(t(_).errors.icon),1)):g("",!0),s[37]||(s[37]=d("p",{class:"text-muted-foreground text-xs"}," Example: fab fa-instagram, fab fa-linkedin, fab fa-github ",-1))])]),d("div",_t,[a(t(S),{onClick:le,disabled:t(_).processing},{default:o(()=>[m(c(t(_).processing?"Adding...":"Add Media"),1)]),_:1},8,["disabled"])])])]),_:1})]),_:1})])):g("",!0)])])]),_:1})],64))}});export{Dt as default};
